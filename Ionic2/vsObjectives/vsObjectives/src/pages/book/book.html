<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{ 'BOOK' | translate }}</ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding id="page8">
  <form id="book-form11">
    <ion-item id="book-input4">
      <ion-label>{{ 'TITLE' | translate }}</ion-label>
      <ion-input type="text" placeholder=""></ion-input>
    </ion-item>
    <ion-item id="book-select2">
      <ion-label>{{ 'AUTHOR' | translate }}</ion-label>
      <ion-select name="">
        <ion-option *ngFor="let author of authors">
          {{author}}
        </ion-option>
      </ion-select>
    </ion-item>
    <ion-item id="book-select4">
      <ion-label>{{ 'CATEGORY' | translate }}</ion-label>
      <ion-select name="">
        <ion-option *ngFor="let categ of categories">
          {{categ}}
        </ion-option>
      </ion-select>
    </ion-item>
    <ion-item id="book-input5">
      <ion-label>{{ 'READ UNTIL' | translate }}</ion-label>
      <ion-input type="date" placeholder=""></ion-input>
    </ion-item>
    <ion-item id="book-input17">
      <ion-label>{{ 'PAGES' | translate }}</ion-label>
      <ion-input type="number" placeholder=""></ion-input>
    </ion-item>
    <ion-item id="book-input18">
      <ion-label>{{ 'I AM AT PAGE' | translate }}</ion-label>
      <ion-input type="number" placeholder=""></ion-input>
    </ion-item>
    <ion-item id="book-input9">
      <ion-label>{{ 'LINK' | translate }}</ion-label>
      <ion-input type="text" placeholder=""></ion-input>
    </ion-item>
    <ion-item id="book-textarea16">
      <ion-label>{{ 'REVIEW - NOTES' | translate }}</ion-label>
      <ion-textarea placeholder=""></ion-textarea>
    </ion-item>
    <button id="btnTakePhoto" ion-button color="positive" small style="border-radius:15px 15px 15px 15px;" (click)="takePicture()">
      <ion-icon name="camera"></ion-icon> &nbsp; {{ 'TAKE PHOTO' | translate }}
    </button>
    <!-- The "Upload File" button in Android. The File Input element is jus hidden and the button calls the its .click() method -->
    <div *ngIf="!isIOS" style="display:inline">
      <button ion-button color="positive" small style="border-radius:15px 15px 15px 15px;" (click)="fileInput.click()">
        <ion-icon name="folder"></ion-icon> &nbsp; {{ 'BROWSE FILE' | translate }}
      </button>
      <div hidden><input type="file" id="fileUpload" #fileInput (change)="onFileFromStorageChosen($event)" /></div>
    </div>

    <!-- The "Upload File" button in iOS. The File Input element displayed as transparent and overlayed on top of the button -->
    <div *ngIf="isIOS" style="display:inline">
      <input type="file" id="fileUpload" class="ios-file-input" (change)="onFileFromStorageChosen($event)" />
      <button ion-button color="positive" small style="border-radius:15px 15px 15px 15px;">
        <ion-icon name="folder"></ion-icon> &nbsp; {{ 'BROWSE FILE' | translate }}
      </button>
    </div>
    <div style="width:100%;">
      <img *ngIf="!userDefined" src="{{picture}}" />
      <img *ngIf="userDefined" [src]="DomSanitizer.bypassSecurityTrustUrl(picture)" class="registerImage" />
    </div>
    <button id="author_save" ion-button color="positive" small style="float:left ;border-radius:15px 15px 15px 15px;" (click)="saveBook()">
      {{ 'SAVE BOOK' | translate }}
    </button>
    <button id="author_delete" ion-button color="positive" small style="float:right ;border-radius:15px 15px 15px 15px;" (click)="deleteBook()">
      {{ 'DELETE BOOK' | translate }}
    </button>
  </form>
  <div id="book-markdown38" class="show-list-numbers-and-dots">
    <p style="color:#000000;">
      <strong>{{ 'IMAGES' | translate }}</strong>
    </p>
  </div>
  <div id="files_container" style="width:100%;">
    <div style="width:100%;" *ngFor="let picture of images">
      <img *ngIf="!userDefined" src="{{picture}}" />
      <img *ngIf="userDefined" [src]="DomSanitizer.bypassSecurityTrustUrl(picture)" class="registerImage" />
    </div>
  </div>
  <div id="book-markdown24" class="show-list-numbers-and-dots">
    <p style="color:#000000;">
      <strong>{{ 'FILES' | translate }}</strong>
    </p>
  </div>
  <ion-list id="filess_list">
    <ion-item color="none" *ngFor="let file of files">
      <ion-thumbnail item-left>
        <img src="{{ file[3] }}" (click)="editFile(file[4])" />
      </ion-thumbnail>
      <h2 (click)="editFile(file[4])">
        {{ file[0] }}
      </h2>
      <h3 (click)="editFile(file[4])">
        {{ file[1] }} - {{ file[2] }}
      </h3>
    </ion-item>
  </ion-list>
</ion-content>
